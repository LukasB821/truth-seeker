<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HodlVitality - State-of-the-Art Crypto App</title>
  <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;500;700&family=Anton&family=Road+Rage&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    /* Splash Screen Styles */
    #splashScreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #121212, #1e1e1e);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      animation: fadeIn 0.5s ease-in-out;
    }
    .splash-container {
      text-align: center;
      padding: 20px;
      max-width: 90%;
    }
    .splash-container .title {
      font-family: 'Anton', sans-serif;
      font-size: 72px;
      color: #00ffff;
      margin-bottom: 30px;
      text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
      letter-spacing: 2px;
      animation: glow 4s infinite alternate, float 8s ease-in-out infinite;
      background: linear-gradient(90deg, #00ffff, #00c8c8, #00ffff);
      background-size: 200% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .splash-container p {
      font-size: 18px;
      margin-bottom: 40px;
      color: rgba(224, 224, 224, 0.8);
    }
    .button-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }
    @keyframes glow {
      from { text-shadow: 0 0 5px rgba(0, 255, 255, 0.5); }
      to { text-shadow: 0 0 20px rgba(0, 255, 255, 0.8); }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* Global & Main Content Styles */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    :root {
      --primary: #00ffff;
      --primary-dark: #00c8c8;
      --background: #121212;
      --surface: #1e1e1e;
      --surface-light: #2a2a2a;
      --text-primary: #e0e0e0;
      --text-secondary: #b0b0b0;
      --success: #00ffaa;
      --warning: #ffcc00;
      --error: #ff4444;
      --sidebar-width: 280px;
      --header-height: 70px;
      --marquee-height: 40px;
    }
    body {
      font-family: 'Inconsolata', monospace;
      background: var(--background);
      color: var(--text-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.6;
      transition: all 0.3s ease;
    }
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Anton', sans-serif;
      letter-spacing: 1px;
      margin-bottom: 1rem;
      font-weight: 400;
    }
    h1 {
      font-size: 2.5rem;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    h2 {
      font-size: 2rem;
      position: relative;
      padding-bottom: 10px;
    }
    h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 3px;
      background: linear-gradient(90deg, var(--primary), transparent);
      border-radius: 3px;
    }
    h3 { font-size: 1.75rem; }
    p {
      margin-bottom: 1rem;
      color: var(--text-secondary);
      font-size: 16px;
    }
    #mainContent {
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    #mainContent.active {
      opacity: 1;
    }

    /* Header */
    .header {
      background: rgba(18, 18, 18, 0.95);
      color: var(--text-primary);
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--header-height);
      z-index: 1000;
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    .header .logo img {
      height: 40px;
      transition: transform 0.3s ease;
    }
    .header .logo:hover img {
      transform: scale(1.1);
    }
    .hamburger {
      display: none;
      background: none;
      border: none;
      color: var(--text-primary);
      font-size: 24px;
      cursor: pointer;
      margin-right: 10px;
      transition: all 0.3s ease;
    }
    .hamburger:hover {
      color: var(--primary);
      transform: scale(1.1);
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    /* Sidebar */
    .sidebar {
      width: var(--sidebar-width);
      background: rgba(30, 30, 30, 0.95);
      backdrop-filter: blur(10px);
      color: var(--text-primary);
      /* --- IMPROVEMENT: Changed font for readability --- */
      font-family: 'Anton', sans-serif;
      font-size: 28px; /* Adjusted font size */
      letter-spacing: 1px;
      /* --- End Improvement --- */
      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
      overflow-y: auto;
      padding-top: calc(var(--header-height) + 20px);
      transition: all 0.3s ease-in-out;
      z-index: 1100;
      border-right: 1px solid rgba(255, 255, 255, 0.1);
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .sidebar li {
      padding: 18px 25px;
      cursor: pointer;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      display: flex;
      align-items: center;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .sidebar li i {
      margin-right: 15px;
      font-size: 20px; /* Keep icon size consistent */
      color: var(--text-secondary);
      transition: all 0.3s ease;
      width: 25px; /* Ensure consistent icon alignment */
      text-align: center;
    }
    .sidebar li::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
      transition: all 0.6s ease;
    }
    @media (hover: hover) {
      .sidebar li:hover {
        background: rgba(0, 255, 255, 0.05);
        color: var(--primary); /* Highlight text on hover */
      }
      .sidebar li:hover::before {
        left: 100%;
      }
      .sidebar li:hover i {
        color: var(--primary);
        transform: scale(1.1);
      }
    }
    .sidebar li:active {
      background: rgba(0, 255, 255, 0.1);
    }
    .sidebar li.active {
       /* --- IMPROVEMENT: Stronger active background --- */
      background: rgba(0, 255, 255, 0.15);
       /* --- End Improvement --- */
      border-left: 4px solid var(--primary);
      color: var(--primary); /* Ensure active text is highlighted */
    }
    .sidebar li.active i {
      color: var(--primary);
    }
    .close-btn {
      display: none;
      background: none;
      border: none;
      color: var(--text-primary);
      font-size: 24px;
      cursor: pointer;
      position: absolute;
      top: 25px;
      right: 25px;
      transition: all 0.3s ease;
    }
    .close-btn:hover {
      color: var(--primary);
      transform: rotate(90deg);
    }

    /* Marquee */
    .marquee {
      width: 100%;
      overflow: hidden;
      background: linear-gradient(90deg, var(--primary), #00c8c8);
      color: #121212;
      padding: 12px 0;
      text-align: center;
      font-size: 16px;
      font-weight: 700;
      position: fixed;
      top: var(--header-height);
      left: 0;
      height: var(--marquee-height);
      z-index: 900;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }
    .marquee-inner {
      display: inline-block;
      white-space: nowrap;
      animation: marquee 20s linear infinite;
    }
    .marquee-inner span {
      margin-right: 60px;
      display: inline-block;
      padding: 0 10px;
    }
    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    /* Main Content Area */
    .main-content {
      margin-left: var(--sidebar-width);
      padding: calc(var(--header-height) + var(--marquee-height) + 30px) 40px 40px;
      transition: margin-left 0.3s ease-in-out;
      min-height: 100vh;
    }
    .tab-content {
      display: none;
      animation: fadeIn 0.5s ease-in-out;
    }
    .tab-content.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Glass Card Style */
    .glass-card {
      background: rgba(30, 30, 30, 0.7);
      backdrop-filter: blur(8px);
      border-radius: 16px;
      padding: 25px;
      margin-bottom: 30px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .glass-card::before {
      pointer-events: none;
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(0, 255, 255, 0.1) 0%, transparent 70%);
      transform: rotate(30deg);
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    .glass-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 255, 255, 0.15);
      border-color: rgba(0, 255, 255, 0.3);
    }
    .glass-card:hover::before {
      opacity: 0.3;
    }
    .glass-card h2 {
      color: var(--primary);
      margin-bottom: 20px;
      padding-bottom: 10px;
    }

    /* Button Styles */
    .btn {
      background: transparent;
      border: 2px solid var(--primary);
      color: var(--primary);
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      min-width: 120px;
      position: relative;
      overflow: hidden;
      z-index: 1;
      font-family: 'Inconsolata', monospace; /* Ensure button text uses main font */
    }
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
      transition: all 0.6s ease;
      z-index: -1;
    }
    .btn i {
      font-size: 14px;
      transition: transform 0.3s ease;
    }
    .btn:hover {
      background: var(--primary);
      color: #121212;
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
    }
    .btn:hover::before {
      left: 100%;
    }
    .btn:hover i {
      transform: translateX(3px);
    }
    .btn:disabled {
      border-color: #555;
      color: #555;
      cursor: not-allowed;
      background: transparent;
      box-shadow: none;
    }
    .btn-sm {
      padding: 8px 16px;
      font-size: 14px;
      min-width: auto;
    }
    .btn-primary {
      background: var(--primary);
      color: #121212;
    }
    .btn-primary:hover {
      background: var(--primary-dark);
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.7);
    }
    .btn-success {
      border-color: var(--success);
      color: var(--success);
    }
    .btn-success:hover {
      background: var(--success);
      color: #121212;
      box-shadow: 0 0 15px rgba(0, 255, 170, 0.5);
    }
    .btn-warning {
      border-color: var(--warning);
      color: var(--warning);
    }
    .btn-warning:hover {
      background: var(--warning);
      color: #121212;
      box-shadow: 0 0 15px rgba(255, 204, 0, 0.5);
    }
    .btn-danger {
      border-color: var(--error);
      color: var(--error);
    }
    .btn-danger:hover {
      background: var(--error);
      color: #121212;
      box-shadow: 0 0 15px rgba(255, 68, 68, 0.5);
    }

    /* Dashboard */
    #dashboard button {
      /* font-size: 18px; */ /* Use default .btn font-size */
      margin-bottom: 20px;
    }
    .bars {
      display: flex;
      justify-content: space-around;
      align-items: flex-end;
      height: 220px;
      margin-top: 30px;
    }
    .bar-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: all 0.3s ease;
    }
    .bar-container:hover {
      transform: translateY(-5px);
    }
    .bar {
      width: 40px;
      background: linear-gradient(to top, var(--primary), #00c8c8);
      border-radius: 4px 4px 0 0;
      transition: height 0.5s ease;
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
    }
    .value {
      font-size: 14px;
      font-weight: bold;
      color: var(--primary);
      margin-bottom: 5px;
    }
    .label {
      font-size: 14px;
      color: var(--text-secondary);
      margin-top: 8px;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    .stat-card {
      background: rgba(30, 30, 30, 0.7);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 255, 255, 0.1);
    }
    .stat-card h3 {
      font-size: 16px;
      margin-bottom: 10px;
      color: var(--text-secondary);
    }
    .stat-card .stat-value {
      font-size: 28px;
      font-weight: bold;
      color: var(--primary);
    }

    /* Wallet */
    .wallet-section {
      margin-bottom: 30px;
    }
    .wallet-info {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    .wallet-info-item {
      background: rgba(0, 0, 0, 0.2);
      padding: 20px;
      border-radius: 8px;
      border-left: 3px solid var(--primary);
      transition: all 0.3s ease;
    }
    .wallet-info-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 255, 255, 0.1);
    }
    .wallet-info-item strong {
      display: block;
      margin-bottom: 8px;
      color: var(--text-secondary);
      font-size: 14px;
    }
    #walletAddress {
      word-break: break-all;
      font-family: monospace;
      color: var(--primary);
      font-size: 14px;
    }
    .wallet-actions {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      margin-top: 25px;
    }
    .transaction-item {
      padding: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background-color 0.3s ease;
    }
    .transaction-item:hover {
      background-color: rgba(255, 255, 255, 0.05);
    }
    .transaction-item:last-child {
        border-bottom: none; /* Remove border from last item */
    }
    .transaction-type {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
    }
    .transaction-in {
      background: rgba(0, 255, 170, 0.2);
      color: var(--success);
    }
    .transaction-out {
      background: rgba(255, 68, 68, 0.2);
      color: var(--error);
    }

    /* Social */
    .post {
      margin-bottom: 25px;
      transition: transform 0.3s ease;
    }
    .post:hover {
      transform: translateY(-3px);
    }
    .post-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }
    .post-header img {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      margin-right: 15px;
      object-fit: cover;
      border: 2px solid var(--primary);
      transition: all 0.3s ease;
      cursor: pointer; /* --- IMPROVEMENT: Indicate clickable avatar --- */
    }
    .post-header img:hover { /* --- IMPROVEMENT: Avatar hover effect --- */
      transform: scale(1.1);
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    }
    .post-header span {
      font-weight: bold;
      font-size: 16px;
      transition: color 0.3s ease; /* --- IMPROVEMENT: Smooth color transition --- */
      cursor: pointer; /* --- IMPROVEMENT: Indicate clickable username --- */
    }
    .post-header span:hover { /* --- IMPROVEMENT: Username hover effect --- */
        color: var(--primary);
    }
    .post-actions {
      margin-left: auto;
      display: flex;
      gap: 10px;
    }
    .post-body {
      padding: 0 10px;
    }
    .post-body p {
      font-size: 15px;
      line-height: 1.6;
      margin-bottom: 15px;
      color: var(--text-primary); /* Ensure user post text is primary color */
      white-space: pre-wrap; /* Preserve line breaks from textarea */
      word-wrap: break-word; /* Break long words */
    }
    .post-meta { /* --- IMPROVEMENT: Container for meta items --- */
        display: flex;
        align-items: center;
        font-size: 14px;
        color: var(--text-secondary);
        margin-top: 15px;
    }
    .post-meta-item { /* --- IMPROVEMENT: Styling for individual meta items --- */
        margin-left: 15px;
        display: flex;
        align-items: center;
        gap: 5px;
        transition: color 0.3s ease;
    }
    .post-meta-item:first-child {
        margin-left: 0;
    }
    .post-meta-item i {
        font-size: 12px;
    }
    .post-meta-item:hover { /* --- IMPROVEMENT: Subtle hover on meta --- */
        color: var(--text-primary);
    }
    .social-tabs {
      display: flex;
      border-bottom: 2px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 25px;
      position: relative;
    }
    .social-tab {
      flex: 1;
      text-align: center;
      padding: 15px;
      cursor: pointer;
      position: relative;
      transition: all 0.3s ease;
      font-weight: bold;
      font-family: 'Anton', sans-serif; /* Use Anton for tabs */
      letter-spacing: 1px;
    }
    .social-tab:hover {
      color: var(--primary);
    }
    .social-tab.active {
      color: var(--primary);
    }
    .social-tab.active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--primary);
      animation: tabUnderline 0.3s ease;
    }
    @keyframes tabUnderline {
      from { transform: scaleX(0); }
      to { transform: scaleX(1); }
    }
    .social-feed {
      animation: fadeIn 0.5s ease;
    }
    .community-tag { /* --- IMPROVEMENT: Styling for Discover tab buttons --- */
      border-radius: 20px;
      background: transparent;
      border-color: rgba(255, 255, 255, 0.3);
      color: var(--text-secondary);
      font-weight: normal; /* Override bold from .btn */
    }
    .community-tag i {
      margin-right: 8px;
    }
    .community-tag:hover {
      background: var(--primary);
      color: var(--background);
      border-color: var(--primary);
      box-shadow: none; /* Override default .btn hover shadow */
    }
    /* --- End Improvement --- */

    /* Create Post Area */
    #createPostTextarea {
        width: 100%;
        height: 100px;
        padding: 15px; /* Increased padding */
        border-radius: 8px;
        background: rgba(0,0,0,0.3);
        border: 1px solid rgba(255,255,255,0.1);
        color: var(--text-primary);
        margin-bottom: 15px;
        font-family: 'Inconsolata', monospace;
        font-size: 16px; /* Consistent font size */
        resize: vertical; /* Allow vertical resize */
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    #createPostTextarea:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
    }


    /* Trading Bot */
    .trading-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background: rgba(30, 30, 30, 0.7);
      border-radius: 8px;
      overflow: hidden; /* Needed for border-radius */
      border-spacing: 0; /* Remove potential spacing */
    }
    .trading-table th, .trading-table td {
      /* --- IMPROVEMENT: Increased padding --- */
      padding: 16px 20px;
      /* --- End Improvement --- */
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      text-align: left;
      transition: background-color 0.3s ease; /* Add transition */
    }
    .trading-table th {
      background: rgba(0, 255, 255, 0.1);
      color: var(--primary);
      font-weight: normal;
      text-transform: uppercase;
      font-size: 14px;
      letter-spacing: 1px;
    }
    .trading-table tbody tr:last-child td {
      border-bottom: none;
    }
    /* --- IMPROVEMENT: Zebra striping --- */
    .trading-table tbody tr:nth-child(even) td {
        background-color: rgba(255, 255, 255, 0.03);
    }
    /* --- End Improvement --- */
    .trading-table tbody tr:hover td {
      /* Ensure hover overrides zebra stripe */
      background-color: rgba(255, 255, 255, 0.07);
    }
    .status-active {
      color: var(--success);
      font-weight: bold;
    }
    .status-pending {
      color: var(--warning);
      font-weight: bold;
    }
    .status-executed {
      color: var(--primary);
      font-weight: bold;
    }
    .chart-container {
      position: relative;
      height: 350px;
      margin-bottom: 30px;
      background: rgba(30, 30, 30, 0.5);
      border-radius: 8px;
      padding: 15px;
    }
    #bitcoinChart, #dcaChart, #walletGainsChart, #tradingBotGainsChart {
      width: 100%;
      height: 100%;
    }
    .trading-controls {
      display: flex;
      gap: 15px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    /* Exchanges */
    .exchanges-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 25px;
    }
    .exchange-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 25px;
      transition: all 0.3s ease;
      border-radius: 12px;
      background: rgba(30, 30, 30, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .exchange-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 255, 255, 0.1);
    }
    .exchange-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
      background: rgba(0, 255, 255, 0.1);
      border: 2px solid var(--primary);
      transition: all 0.3s ease;
    }
    .exchange-card:hover .exchange-icon {
      transform: rotate(10deg) scale(1.1);
    }
    .exchange-icon i {
      font-size: 36px;
      color: var(--primary);
      transition: all 0.3s ease;
    }
    .exchange-card:hover .exchange-icon i {
      transform: scale(1.1);
    }
    .exchange-card h2 {
      margin-bottom: 10px;
      text-align: center;
    }
    .exchange-card p {
      text-align: center;
      margin-bottom: 15px;
    }
    .exchange-stats {
      width: 100%;
      margin-top: 15px;
    }
    .stat-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 14px;
      /* --- IMPROVEMENT: Consistent padding and hover --- */
      padding: 10px 5px;
      border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
      transition: background-color 0.2s ease;
      border-radius: 4px;
      /* --- End Improvement --- */
    }
    .stat-row:last-child {
      border-bottom: none;
    }
    /* --- IMPROVEMENT: Hover effect for stat rows --- */
    .stat-row:hover {
        background-color: rgba(255, 255, 255, 0.05);
    }
    /* --- End Improvement --- */
    .stat-label {
      color: var(--text-secondary);
    }
    .stat-value {
      color: var(--text-primary);
      font-weight: bold;
    }

    /* Help Creator */
    .qr-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 30px 0;
    }
    #helpCreatorQR {
      width: 250px;
      height: 250px;
      background: #fff;
      padding: 15px;
      border-radius: 16px;
      margin-bottom: 20px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }
    #helpCreatorQR:hover {
      transform: scale(1.05);
    }
    .donate-text {
      text-align: center;
      max-width: 600px;
      margin: 0 auto 30px;
      line-height: 1.7;
    }
    .donate-address {
      background: rgba(0, 0, 0, 0.3);
      padding: 12px;
      border-radius: 8px;
      font-family: monospace;
      word-break: break-all;
      margin: 15px 0;
      text-align: center;
      border-left: 3px solid var(--primary);
      transition: all 0.3s ease;
    }
    .donate-address:hover {
      background: rgba(0, 0, 0, 0.4);
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.1);
    }

    /* Account */
    .account-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 25px;
    }
    .account-section {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    .account-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin: 0 auto 20px;
      border: 3px solid var(--primary);
      object-fit: cover;
      transition: all 0.3s ease;
    }
    .account-section:hover .account-avatar {
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    }
    .account-stats {
      margin-top: auto; /* Pushes stats to bottom if needed */
    }
    .account-stats .stat-row { /* Apply stat-row styling here too */
        padding: 10px 5px;
        transition: background-color 0.2s ease;
        border-radius: 4px;
    }
    .account-stats .stat-row:hover {
        background-color: rgba(255, 255, 255, 0.05);
    }

    /* Overlay for Mobile */
    #overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1050;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
      backdrop-filter: blur(5px);
    }
    #overlay.active {
      display: block;
      opacity: 1;
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .main-content {
        padding: calc(var(--header-height) + var(--marquee-height) + 20px) 30px 30px;
      }
    }

    @media (max-width: 768px) {
      .sidebar {
        left: calc(-1 * var(--sidebar-width));
      }
      .sidebar.open {
        left: 0;
        box-shadow: 5px 0 15px rgba(0, 0, 0, 0.5);
      }
      .main-content {
        margin-left: 0;
        padding: calc(var(--header-height) + var(--marquee-height) + 20px) 20px 20px;
      }
      .hamburger {
        display: block;
      }
      .close-btn {
        display: block;
      }
      .marquee {
        padding: 10px 0;
      }
      .marquee-inner span {
        margin-right: 30px;
      }
      .glass-card {
        padding: 20px;
      }
      .stats-grid {
        grid-template-columns: 1fr 1fr;
      }
      .exchanges-grid {
        grid-template-columns: 1fr;
      }
      .wallet-info {
        grid-template-columns: 1fr;
      }
      .account-grid {
          grid-template-columns: 1fr; /* Stack account cards on smaller tablets */
      }
    }

    @media (max-width: 480px) {
      .splash-container .title {
        font-size: 48px;
      }
      .btn {
        padding: 10px 20px;
        font-size: 15px;
      }
      .stats-grid {
        grid-template-columns: 1fr;
      }
      .wallet-actions {
        flex-direction: column;
      }
      .wallet-actions .btn {
        width: 100%;
      }
      .trading-controls {
        flex-direction: column;
      }
      .trading-controls .btn {
        width: 100%;
      }
      .social-tabs {
        flex-direction: column;
        border-bottom: none;
      }
      .social-tab {
        padding: 15px;
        text-align: left;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }
      .social-tab.active::after {
        display: none; /* No underline needed in vertical layout */
      }
      .account-grid {
        grid-template-columns: 1fr;
      }
      .post-header {
          flex-wrap: wrap; /* Allow wrapping on small screens */
      }
      .post-actions {
          margin-left: 0; /* Reset margin */
          margin-top: 10px; /* Add space if wrapped */
          width: 100%; /* Take full width if wrapped */
          justify-content: flex-end; /* Align buttons right */
      }
    }

    /* Utility Classes */
    .text-primary {
      color: var(--primary);
    }
    .text-success {
      color: var(--success);
    }
    .text-warning {
      color: var(--warning);
    }
    .text-error {
      color: var(--error);
    }
    .text-center {
      text-align: center;
    }
    .mb-0 {
      margin-bottom: 0;
    }
    .mt-20 {
      margin-top: 20px;
    }
    .mt-30 {
      margin-top: 30px;
    }
    .mb-20 {
      margin-bottom: 20px;
    }
    .mb-30 {
      margin-bottom: 30px;
    }

    /* Prevent Scrolling on Body When Sidebar is Open */
    .no-scroll {
      overflow: hidden;
    }

    /* Animations */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    .pulse {
      animation: pulse 2s infinite;
    }

    /* Tooltip */
    [data-tooltip] {
      position: relative;
    }
    [data-tooltip]::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(30, 30, 30, 0.9);
      color: var(--text-primary);
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 100;
      margin-bottom: 5px; /* Add slight gap */
    }
    [data-tooltip]:hover::after {
      opacity: 1;
      visibility: visible;
      bottom: calc(100% + 5px);
    }
  </style>
</head>
<body>
  <div id="splashScreen">
    <div class="splash-container">
      <h1 class="title">HodlVitality</h1>
      <p>Your state-of-the-art cryptocurrency companion</p>
      <div class="button-container">
        <button class="btn btn-primary create-account">
          <i class="fas fa-user-plus"></i> Create Account
        </button>
        <a href="#" id="loginButton" class="btn login">
          <i class="fas fa-sign-in-alt"></i> Login
        </a>
      </div>
    </div>
  </div>

  <div id="mainContent">
    <div class="header">
      <div class="logo">
        <img src="hodlvitality.jpeg" alt="HodlVitality Logo" class="logo-image">
      </div>
      <button id="hamburgerMenu" class="hamburger">
        <i class="fa-solid fa-bars"></i>
      </button>
      <div class="header-right">
        <button id="connectWalletHeader" class="btn btn-sm">
          <i class="fas fa-wallet"></i> Connect Wallet
        </button>
      </div>
    </div>

    <div class="marquee">
      <div class="marquee-inner">
        <span>🔥 Welcome to HodlVitality - Your State-of-the-Art Crypto App 🔥</span>
        <span>🚀 Bitcoin: $42,350 (+2.5%) | Ethereum: $2,250 (+1.8%) | Solana: $95 (+3.2%) 🚀</span>
        <span>💎 New Feature: Lightning Network integration now live! 💎</span>
      </div>
    </div>

    <div class="sidebar">
      <button id="closeSidebar" class="close-btn">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <ul>
        <li class="active" data-target="dashboard"><i class="fa-solid fa-gauge-high"></i> Dashboard</li>
        <li data-target="wallet"><i class="fa-solid fa-wallet"></i> Wallet</li>
        <li data-target="social"><i class="fa-solid fa-users"></i> Social</li>
        <li data-target="trading"><i class="fa-solid fa-robot"></i> Trading Bot</li>
        <li data-target="dca"><i class="fa-solid fa-chart-line"></i> DCA</li>
        <li data-target="exchanges"><i class="fa-solid fa-exchange-alt"></i> Exchanges</li>
        <li data-target="news"><i class="fa-solid fa-newspaper"></i> News</li>
        <li data-target="resources"><i class="fa-solid fa-hat-wizard"></i> Resources</li>
        <li data-target="helpcreator"><i class="fa-solid fa-qrcode"></i> Help Creator</li>
        <li data-target="account"><i class="fa-solid fa-user"></i> Account</li>
      </ul>
    </div>

    <div id="overlay"></div>

    <div class="main-content">
      <div id="dashboard" class="tab-content active">
        <h1>Dashboard</h1>
        <p class="mb-30">Welcome back! Here's your cryptocurrency overview.</p>

        <div class="glass-card">
          <h2><i class="fas fa-gift" style="margin-right: 10px;"></i>Daily Reward</h2>
          <p>Claim your daily reward to get started!</p>
          <button id="dailyRewardButton" class="btn btn-primary mt-20 pulse">
            <i class="fas fa-gift"></i> Claim Daily Reward
          </button>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <h3>Portfolio Value</h3>
            <div class="stat-value text-primary">$12,450</div>
          </div>
          <div class="stat-card">
            <h3>24h Change</h3>
            <div class="stat-value text-success">+2.5%</div>
          </div>
          <div class="stat-card">
            <h3>Total Gains</h3>
            <div class="stat-value text-primary">+15.8%</div>
          </div>
          <div class="stat-card">
            <h3>Next DCA</h3>
            <div class="stat-value">12:00 PM</div>
          </div>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-chart-bar" style="margin-right: 10px;"></i>Monthly Token Earnings</h2>
          <div class="bars">
            <div class="bar-container">
              <span class="value">10</span>
              <div class="bar" style="height: 50px;"></div>
              <span class="label">Jan</span>
            </div>
            <div class="bar-container">
              <span class="value">20</span>
              <div class="bar" style="height: 100px;"></div>
              <span class="label">Feb</span>
            </div>
            <div class="bar-container">
              <span class="value">15</span>
              <div class="bar" style="height: 75px;"></div>
              <span class="label">Mar</span>
            </div>
            <div class="bar-container">
              <span class="value">25</span>
              <div class="bar" style="height: 125px;"></div>
              <span class="label">Apr</span>
            </div>
            <div class="bar-container">
              <span class="value">30</span>
              <div class="bar" style="height: 150px;"></div>
              <span class="label">May</span>
            </div>
          </div>
        </div>
      </div>

      <div id="wallet" class="tab-content">
        <h1><i class="fas fa-wallet" style="margin-right: 10px;"></i>Wallet Dashboard</h1>
        <p class="mb-30">Manage your cryptocurrency assets and transactions.</p>

        <div class="glass-card">
          <h2><i class="fas fa-plug" style="margin-right: 10px;"></i>Wallet Connection</h2>
          <p id="walletStatus">Wallet not connected</p>
          <div class="wallet-actions">
            <button id="connectWalletTab" class="btn">
              <i class="fas fa-plug"></i> Connect Wallet
            </button>
            <button id="copyAddress" class="btn" style="display: none;">
              <i class="fas fa-copy"></i> Copy Address
            </button>
          </div>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-info-circle" style="margin-right: 10px;"></i>Wallet Details</h2>
          <div class="wallet-info">
            <div class="wallet-info-item">
              <strong>Wallet Address</strong>
              <span id="walletAddress">N/A</span>
            </div>
            <div class="wallet-info-item">
              <strong>Balance</strong>
              <span id="walletBalance">0 sats</span>
            </div>
            <div class="wallet-info-item">
              <strong>Network</strong>
              <span>Bitcoin Mainnet</span>
            </div>
          </div>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-exchange-alt" style="margin-right: 10px;"></i>Recent Transactions</h2>
          <ul id="transactionsList">
            <li class="transaction-item">
              <div>
                <span class="transaction-type transaction-in">IN</span>
                <span>0.005 BTC</span>
              </div>
              <div>
                <span>2 hours ago</span>
              </div>
            </li>
            <li class="transaction-item">
              <div>
                <span class="transaction-type transaction-out">OUT</span>
                <span>0.002 BTC</span>
              </div>
              <div>
                <span>1 day ago</span>
              </div>
            </li>
            <li class="transaction-item">
              <div>
                <span>No recent transactions</span>
              </div>
            </li>
          </ul>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-bolt" style="margin-right: 10px;"></i>Quick Actions</h2>
          <div class="wallet-actions">
            <button id="sendPayment" class="btn btn-warning">
              <i class="fas fa-paper-plane"></i> Send Payment
            </button>
            <button id="receivePayment" class="btn btn-success">
              <i class="fas fa-qrcode"></i> Receive Payment
            </button>
          </div>
        </div>
      </div>

      <div id="social" class="tab-content">
        <h1><i class="fas fa-users" style="margin-right: 10px;"></i>Social Feed</h1>
        <p class="mb-30">Connect with other crypto enthusiasts in the community.</p>

        <div class="social-tabs">
          <div class="social-tab active" data-tab="following">For You</div>
          <div class="social-tab" data-tab="yourpage">Your Page</div>
          <div class="social-tab" data-tab="discover">Discover</div>
        </div>

        <div class="social-feed" id="following">
          <div class="glass-card post">
            <div class="post-header">
              <img src="https://i.pravatar.cc/150?img=3" alt="avatar" />
              <span>CryptoGuru</span>
              <div class="post-actions">
                <button class="btn btn-sm follow-btn" data-tooltip="Follow this user">
                  <i class="fas fa-user-plus"></i> Follow
                </button>
                <a class="btn btn-sm btn-success send-btn" href="bravewallet://pay?address=bc1qcryptoguruaddress12345" data-tooltip="Send a tip">
                  <i class="fas fa-bolt"></i> Tip
                </a>
              </div>
            </div>
            <div class="post-body">
              <p>Just made a profitable trade with my new trading bot! The HodlVitality platform makes automated trading so easy. #crypto #tradingbot</p>
              <div class="post-meta">
                <span class="post-meta-item"><i class="far fa-clock"></i> 2 hours ago</span>
                <span class="post-meta-item"><i class="far fa-heart"></i> 42</span>
                <span class="post-meta-item"><i class="far fa-comment"></i> 8</span>
              </div>
              </div>
          </div>

          <div class="glass-card post">
            <div class="post-header">
              <img src="https://i.pravatar.cc/150?img=5" alt="avatar" />
              <span>BlockchainBabe</span>
              <div class="post-actions">
                <button class="btn btn-sm follow-btn" data-tooltip="Follow this user">
                  <i class="fas fa-user-plus"></i> Follow
                </button>
                <a class="btn btn-sm btn-success send-btn" href="bravewallet://pay?address=bc1qblockchainbabeaddress67890" data-tooltip="Send a tip">
                  <i class="fas fa-bolt"></i> Tip
                </a>
              </div>
            </div>
            <div class="post-body">
              <p>Anyone else excited about the upcoming NFT drop? I've been using HodlVitality to track my portfolio and it's been a game changer! 🚀 #NFT #crypto</p>
              <div class="post-meta">
                 <span class="post-meta-item"><i class="far fa-clock"></i> 5 hours ago</span>
                 <span class="post-meta-item"><i class="far fa-heart"></i> 78</span>
                 <span class="post-meta-item"><i class="far fa-comment"></i> 15</span>
               </div>
               </div>
          </div>

          <div class="glass-card post">
            <div class="post-header">
              <img src="https://i.pravatar.cc/150?img=8" alt="avatar" />
              <span>BitcoinMaxi</span>
              <div class="post-actions">
                <button class="btn btn-sm follow-btn" data-tooltip="Follow this user">
                  <i class="fas fa-user-plus"></i> Follow
                </button>
                <a class="btn btn-sm btn-success send-btn" href="bravewallet://pay?address=bc1qbitcoinmaxiaddress13579" data-tooltip="Send a tip">
                  <i class="fas fa-bolt"></i> Tip
                </a>
              </div>
            </div>
            <div class="post-body">
              <p>Just stacked another 0.01 BTC using HodlVitality's DCA feature. Set it and forget it! #StackingSats #Bitcoin</p>
              <div class="post-meta">
                  <span class="post-meta-item"><i class="far fa-clock"></i> 1 day ago</span>
                  <span class="post-meta-item"><i class="far fa-heart"></i> 102</span>
                  <span class="post-meta-item"><i class="far fa-comment"></i> 24</span>
              </div>
              </div>
          </div>
        </div>

        <div class="social-feed" id="yourpage" style="display: none;">
           <div class="glass-card mb-30"> <h2><i class="fas fa-pencil-alt" style="margin-right: 10px;"></i>Create Post</h2>
                <textarea id="createPostTextarea" placeholder="What's on your mind? Share your crypto thoughts..."></textarea>
                <button id="createPostButton" class="btn btn-primary"><i class="fas fa-paper-plane"></i> Post</button>
            </div>
            <div class="glass-card post">
              <div class="post-header">
                <img src="https://i.pravatar.cc/150?img=1" alt="avatar" />
                <span>YourUsername</span>
                <div class="post-actions">
                  <button class="btn btn-sm" data-tooltip="Edit your post">
                    <i class="fas fa-edit"></i> Edit
                  </button>
                   <button class="btn btn-sm btn-danger" data-tooltip="Delete your post">
                    <i class="fas fa-trash"></i> Delete
                  </button>
                </div>
              </div>
              <div class="post-body">
                <p>This is an example of a post on your page. Use the area above to share your own updates!</p>
                <div class="post-meta">
                    <span class="post-meta-item"><i class="far fa-clock"></i> 1 hour ago</span>
                    <span class="post-meta-item"><i class="far fa-heart"></i> 5</span>
                    <span class="post-meta-item"><i class="far fa-comment"></i> 2</span>
                </div>
                </div>
            </div>
            </div>

        <div class="social-feed" id="discover" style="display: none;">
          <div class="glass-card">
            <h2>Discover Communities</h2>
            <p>Find and join crypto communities that match your interests.</p>
            <div class="wallet-actions" style="gap: 10px;"> <button class="btn btn-sm community-tag">
                <i class="fas fa-bitcoin"></i> Bitcoin
              </button>
              <button class="btn btn-sm community-tag">
                <i class="fab fa-ethereum"></i> Ethereum
              </button>
              <button class="btn btn-sm community-tag">
                <i class="fas fa-chart-line"></i> Trading
              </button>
              <button class="btn btn-sm community-tag">
                <i class="fas fa-coins"></i> DeFi
              </button>
              <button class="btn btn-sm community-tag">
                <i class="fas fa-palette"></i> NFTs
              </button>
               <button class="btn btn-sm community-tag">
                <i class="fas fa-layer-group"></i> Altcoins
              </button>
              </div>
          </div>
          <div class="glass-card post"> <div class="post-header">
              <img src="https://i.pravatar.cc/150?img=15" alt="avatar" />
              <span>DeFi Degen</span>
               <div class="post-actions">
                <button class="btn btn-sm follow-btn" data-tooltip="Follow this user">
                  <i class="fas fa-user-plus"></i> Follow
                </button>
                <a class="btn btn-sm btn-success send-btn" href="bravewallet://pay?address=bc1qdefidegenaddress98765" data-tooltip="Send a tip">
                  <i class="fas fa-bolt"></i> Tip
                </a>
              </div>
            </div>
             <div class="post-body">
              <p>Exploring the latest yield farming opportunities on Polygon. Anyone finding good APYs?</p>
              <div class="post-meta">
                  <span class="post-meta-item"><i class="far fa-clock"></i> 8 hours ago</span>
                  <span class="post-meta-item"><i class="far fa-heart"></i> 55</span>
                  <span class="post-meta-item"><i class="far fa-comment"></i> 12</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="trading" class="tab-content">
        <h1><i class="fas fa-robot" style="margin-right: 10px;"></i>Trading Bot</h1>
        <p class="mb-30">Automate your trading strategies with our intelligent bot.</p>

        <div class="trading-controls">
          <button class="btn btn-success">
            <i class="fas fa-play"></i> Start Bot
          </button>
          <button class="btn btn-warning">
            <i class="fas fa-pause"></i> Pause Bot
          </button>
          <button class="btn btn-danger">
            <i class="fas fa-stop"></i> Stop Bot
          </button>
          <button class="btn">
            <i class="fas fa-cog"></i> Settings
          </button>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-chart-line" style="margin-right: 10px;"></i>Bitcoin Price Chart</h2>
          <div class="chart-container">
            <canvas id="bitcoinChart"></canvas>
          </div>
          <div id="priceSuggestions" class="mt-20"></div>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-exchange-alt" style="margin-right: 10px;"></i>Recent Trades</h2>
           <table class="trading-table">
            <thead>
              <tr>
                <th>Time</th>
                <th>Signal</th>
                <th>Price</th>
                <th>Amount</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>09:00</td>
                <td><span class="text-success">Buy</span></td>
                <td>$42,120</td>
                <td>0.005 BTC</td>
                <td><span class="status-executed">Executed</span></td>
              </tr>
              <tr>
                <td>10:30</td>
                <td><span class="text-warning">Sell</span></td>
                <td>$42,800</td>
                <td>0.005 BTC</td>
                <td><span class="status-executed">Executed</span></td>
              </tr>
              <tr>
                <td>12:15</td>
                <td><span class="text-success">Buy</span></td>
                <td>$42,350</td>
                <td>0.007 BTC</td>
                <td><span class="status-active">Active</span></td>
              </tr>
              <tr>
                <td>14:45</td>
                <td><span class="text-success">Buy</span></td>
                <td>$42,000</td>
                <td>0.010 BTC</td>
                <td><span class="status-pending">Pending</span></td>
              </tr>
               <tr>
                <td>16:00</td>
                <td><span class="text-error">Stop Loss</span></td>
                <td>$41,800</td>
                <td>0.007 BTC</td>
                <td><span class="status-executed">Executed</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div id="dca" class="tab-content">
        <h1><i class="fas fa-chart-line" style="margin-right: 10px;"></i>Dollar-Cost Averaging</h1>
        <p class="mb-30">Automatically invest at regular intervals, regardless of price.</p>

        <div class="glass-card">
          <h2><i class="fas fa-chart-area" style="margin-right: 10px;"></i>DCA Performance</h2>
          <div class="chart-container">
            <canvas id="dcaChart"></canvas>
          </div>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-cog" style="margin-right: 10px;"></i>Current Strategy</h2>
          <div class="wallet-info">
            <div class="wallet-info-item">
              <strong>Asset</strong>
              <span>Bitcoin (BTC)</span>
            </div>
            <div class="wallet-info-item">
              <strong>Frequency</strong>
              <span>Daily</span>
            </div>
            <div class="wallet-info-item">
              <strong>Amount</strong>
              <span>$50</span>
            </div>
            <div class="wallet-info-item">
              <strong>Next Purchase</strong>
              <span>Tomorrow, 12:00 PM</span>
            </div>
          </div>
          <div class="wallet-actions mt-20">
            <button class="btn btn-primary">
              <i class="fas fa-edit"></i> Edit Strategy
            </button>
            <button class="btn btn-danger">
              <i class="fas fa-stop"></i> Pause DCA
            </button>
          </div>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-history" style="margin-right: 10px;"></i>Purchase History</h2>
          <table class="trading-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Time</th>
                <th>Amount</th>
                <th>Price</th>
                <th>BTC Received</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Today</td>
                <td>12:00</td>
                <td>$50</td>
                <td>$42,350</td>
                <td>0.00118 BTC</td>
              </tr>
              <tr>
                <td>Yesterday</td>
                <td>12:00</td>
                <td>$50</td>
                <td>$41,800</td>
                <td>0.001196 BTC</td>
              </tr>
              <tr>
                <td>2 days ago</td>
                <td>12:00</td>
                <td>$50</td>
                <td>$42,100</td>
                <td>0.001188 BTC</td>
              </tr>
              <tr>
                <td>3 days ago</td>
                <td>12:00</td>
                <td>$50</td>
                <td>$41,500</td>
                <td>0.001205 BTC</td>
              </tr>
               <tr>
                <td>4 days ago</td>
                <td>12:00</td>
                <td>$50</td>
                <td>$41,950</td>
                <td>0.001192 BTC</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div id="exchanges" class="tab-content">
        <h1><i class="fas fa-exchange-alt" style="margin-right: 10px;"></i>Exchange Integration</h1>
        <p class="mb-30">Connect your exchange accounts for seamless trading.</p>

        <div class="exchanges-grid">
          <div class="glass-card exchange-card">
            <div class="exchange-icon">
              <i class="fab fa-bitcoin"></i>
            </div>
            <h2>Binance</h2>
            <p>World's leading cryptocurrency exchange</p>
            <button class="btn btn-sm btn-success" disabled> <i class="fas fa-check"></i> Connected
            </button>
            <div class="exchange-stats">
               <div class="stat-row">
                <span class="stat-label">Status:</span>
                <span class="stat-value text-success">Connected</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Balance:</span>
                <span class="stat-value">0.5 BTC</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">API Status:</span>
                <span class="stat-value text-success">Active</span>
              </div>
            </div>
          </div>

          <div class="glass-card exchange-card">
            <div class="exchange-icon">
              <i class="fab fa-ethereum"></i>
            </div>
            <h2>Coinbase</h2>
            <p>Secure platform for crypto trading</p>
            <button class="btn btn-sm">
              <i class="fas fa-link"></i> Connect
            </button>
            <div class="exchange-stats">
               <div class="stat-row">
                <span class="stat-label">Status:</span>
                <span class="stat-value">Not Connected</span>
              </div>
               <div class="stat-row">
                <span class="stat-label">Balance:</span>
                <span class="stat-value">-</span>
              </div>
               <div class="stat-row">
                <span class="stat-label">API Status:</span>
                <span class="stat-value">-</span>
              </div>
            </div>
          </div>

          <div class="glass-card exchange-card">
            <div class="exchange-icon">
              <i class="fas fa-anchor"></i>
            </div>
            <h2>Kraken</h2>
            <p>Professional trading platform</p>
            <button class="btn btn-sm">
              <i class="fas fa-link"></i> Connect
            </button>
            <div class="exchange-stats">
                <div class="stat-row">
                <span class="stat-label">Status:</span>
                <span class="stat-value">Not Connected</span>
              </div>
               <div class="stat-row">
                <span class="stat-label">Balance:</span>
                <span class="stat-value">-</span>
              </div>
               <div class="stat-row">
                <span class="stat-label">API Status:</span>
                <span class="stat-value">-</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="news" class="tab-content">
        <h1><i class="fas fa-newspaper" style="margin-right: 10px;"></i>Crypto News</h1>
        <p class="mb-30">Stay updated with the latest in cryptocurrency.</p>

        <div class="glass-card post"> <div class="post-header">
            <img src="https://i.pravatar.cc/150?img=11" alt="avatar" />
            <span>CryptoNews</span>
             <div class="post-actions">
                 <button class="btn btn-sm follow-btn">
                    <i class="fas fa-bell"></i> Follow
                 </button>
             </div>
          </div>
          <div class="post-body">
            <h3>Bitcoin Surpasses $42,000 Amid Institutional Demand</h3>
            <p>Bitcoin has broken through the $42,000 resistance level as institutional investors continue to show strong interest in the cryptocurrency market. Analysts suggest this could be the beginning of a new bull run.</p>
             <div class="post-meta">
                <span class="post-meta-item"><i class="far fa-clock"></i> Published 2 hours ago</span>
             </div>
          </div>
        </div>

        <div class="glass-card post">
          <div class="post-header">
            <img src="https://i.pravatar.cc/150?img=12" alt="avatar" />
            <span>MarketWatch</span>
            <div class="post-actions">
                <button class="btn btn-sm follow-btn">
                    <i class="fas fa-bell"></i> Follow
                </button>
            </div>
          </div>
          <div class="post-body">
            <h3>Ethereum's London Upgrade Goes Live</h3>
            <p>The long-awaited London hard fork has been successfully implemented on the Ethereum network, introducing EIP-1559 which changes the fee structure and begins burning a portion of transaction fees.</p>
             <div class="post-meta">
                <span class="post-meta-item"><i class="far fa-clock"></i> Published 5 hours ago</span>
             </div>
          </div>
        </div>

        <div class="glass-card post">
          <div class="post-header">
            <img src="https://i.pravatar.cc/150?img=13" alt="avatar" />
            <span>BlockchainDaily</span>
             <div class="post-actions">
                <button class="btn btn-sm follow-btn">
                    <i class="fas fa-bell"></i> Follow
                </button>
            </div>
          </div>
          <div class="post-body">
            <h3>New Regulations Proposed for Stablecoins</h3>
            <p>Financial regulators are considering new rules for stablecoin issuers that would require them to maintain reserves equivalent to the value of tokens in circulation and submit to regular audits.</p>
             <div class="post-meta">
                <span class="post-meta-item"><i class="far fa-clock"></i> Published yesterday</span>
             </div>
          </div>
        </div>
      </div>

      <div id="resources" class="tab-content">
        <h1><i class="fas fa-hat-wizard" style="margin-right: 10px;"></i>Learning Resources</h1>
        <p class="mb-30">Expand your cryptocurrency knowledge with these resources.</p>

        <div class="glass-card">
          <h2><i class="fas fa-graduation-cap" style="margin-right: 10px;"></i>Beginner Guides</h2>
          <div class="wallet-info"> <div class="wallet-info-item"> <h3>Bitcoin Whitepaper</h3>
              <p>The original Bitcoin whitepaper by Satoshi Nakamoto</p>
              <button class="btn btn-sm mt-20">
                <i class="fas fa-book"></i> Read
              </button>
            </div>
            <div class="wallet-info-item">
              <h3>Crypto Security 101</h3>
              <p>Learn how to keep your crypto safe</p>
              <button class="btn btn-sm mt-20">
                <i class="fas fa-shield-alt"></i> Learn
              </button>
            </div>
             <div class="wallet-info-item">
              <h3>What is Blockchain?</h3>
              <p>A simple explanation of the core technology</p>
              <button class="btn btn-sm mt-20">
                <i class="fas fa-link"></i> Explain
              </button>
            </div>
          </div>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-chart-line" style="margin-right: 10px;"></i>Advanced Trading</h2>
          <div class="wallet-info">
            <div class="wallet-info-item">
              <h3>Technical Analysis</h3>
              <p>Master chart patterns and indicators</p>
              <button class="btn btn-sm mt-20">
                <i class="fas fa-chart-line"></i> Study
              </button>
            </div>
            <div class="wallet-info-item">
              <h3>Risk Management</h3>
              <p>Strategies to protect your capital</p>
              <button class="btn btn-sm mt-20">
                <i class="fas fa-chess"></i> Explore
              </button>
            </div>
             <div class="wallet-info-item">
              <h3>Fundamental Analysis</h3>
              <p>Evaluating crypto projects beyond price</p>
              <button class="btn btn-sm mt-20">
                <i class="fas fa-search-dollar"></i> Analyze
              </button>
            </div>
          </div>
        </div>

        <div class="glass-card">
          <h2><i class="fas fa-video" style="margin-right: 10px;"></i>Video Tutorials</h2>
          <div class="wallet-info">
            <div class="wallet-info-item">
              <h3>Wallet Setup</h3>
              <p>How to securely set up a crypto wallet</p>
              <button class="btn btn-sm mt-20">
                <i class="fas fa-play"></i> Watch
              </button>
            </div>
            <div class="wallet-info-item">
              <h3>DCA Explained</h3>
              <p>Understanding dollar-cost averaging</p>
              <button class="btn btn-sm mt-20">
                <i class="fas fa-play"></i> Watch
              </button>
            </div>
             <div class="wallet-info-item">
              <h3>Using HodlVitality</h3>
              <p>A quick tour of the app's features</p>
              <button class="btn btn-sm mt-20">
                <i class="fas fa-play"></i> Watch Tour
              </button>
            </div>
          </div>
        </div>
      </div>

      <div id="helpcreator" class="tab-content">
        <h1><i class="fas fa-qrcode" style="margin-right: 10px;"></i>Support the Creator</h1>
        <div class="donate-text">
          <p>I'm continuously working to improve HodlVitality and add new features. If you find this app valuable, consider supporting my work with a donation.</p>
          <p>Your support helps fund development, server costs, and allows me to dedicate more time to building the best crypto experience possible.</p>
        </div>

        <div class="qr-container">
          <div id="helpCreatorQR"></div>
          <p>Scan to donate via Lightning Network</p>
          <div class="donate-address">
            bc1qsimulateddonationaddress1234567890
          </div>
          <button class="btn btn-primary" onclick="navigator.clipboard.writeText('bc1qsimulateddonationaddress1234567890')">
            <i class="fas fa-copy"></i> Copy Address
          </button>
        </div>

        <div class="glass-card mt-30">
          <h2><i class="fas fa-road" style="margin-right: 10px;"></i>Development Roadmap</h2>
          <ul style="list-style-type: none;">
            <li style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px dashed rgba(255, 255, 255, 0.1);">
              <h3><span class="text-success">✓</span> Wallet Integration (Current)</h3>
              <p>Connect your existing wallets to track all your assets in one place</p>
            </li>
            <li style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px dashed rgba(255, 255, 255, 0.1);">
              <h3><span class="text-primary">→</span> Advanced Trading Features (Next)</h3>
              <p>More indicators, backtesting, and strategy customization</p>
            </li>
            <li style="margin-bottom: 15px;">
              <h3><span class="text-secondary">○</span> Mobile App (Future)</h3>
              <p>Full-featured mobile experience with notifications</p>
            </li>
          </ul>
        </div>
      </div>

      <div id="account" class="tab-content">
        <h1><i class="fas fa-user" style="margin-right: 10px;"></i>Account Overview</h1>

        <div class="account-grid">
          <div class="glass-card account-section">
            <img src="https://i.pravatar.cc/150?img=1" class="account-avatar" alt="User Avatar">
            <h2 class="text-center">Username</h2>
            <p class="text-center text-secondary">Member since June 2023</p>
            <div class="account-stats">
              <div class="stat-row">
                <span class="stat-label">Followers:</span>
                <span class="stat-value">128</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Following:</span>
                <span class="stat-value">42</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Posts:</span>
                <span class="stat-value">18</span>
              </div>
            </div>
          </div>

          <div class="glass-card account-section">
            <h2><i class="fas fa-chart-line" style="margin-right: 10px;"></i>Wallet Gains</h2>
            <div class="chart-container" style="height: 250px;">
              <canvas id="walletGainsChart"></canvas>
            </div>
            <div class="account-stats">
               <div class="stat-row">
                <span class="stat-label">All Time:</span>
                <span class="stat-value text-success">+125%</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">This Year:</span>
                <span class="stat-value text-success">+45%</span>
              </div>
            </div>
          </div>

          <div class="glass-card account-section">
            <h2><i class="fas fa-robot" style="margin-right: 10px;"></i>Trading Bot Performance</h2>
            <div class="chart-container" style="height: 250px;">
              <canvas id="tradingBotGainsChart"></canvas>
            </div>
            <div class="account-stats">
               <div class="stat-row">
                <span class="stat-label">Win Rate:</span>
                <span class="stat-value text-success">72%</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Total Profit:</span>
                <span class="stat-value">0.15 BTC</span>
              </div>
            </div>
          </div>

          <div class="glass-card account-section">
            <h2><i class="fas fa-dollar-sign" style="margin-right: 10px;"></i>DCA Statistics</h2>
            <div class="account-stats">
              <div class="stat-row">
                <span class="stat-label">Total Invested:</span>
                <span class="stat-value">$3,250</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">BTC Accumulated:</span>
                <span class="stat-value">0.075 BTC</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Average Price:</span>
                <span class="stat-value">$43,333</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Current Value:</span>
                <span class="stat-value text-success">$3,450 (+6.2%)</span>
              </div>
            </div>
            <button class="btn btn-primary mt-20">
              <i class="fas fa-chart-line"></i> View Detailed Stats
            </button>
          </div>

          <div class="glass-card account-section">
            <h2><i class="fas fa-cog" style="margin-right: 10px;"></i>Account Settings</h2>
            <ul style="list-style-type: none;">
              <li style="margin-bottom: 15px;">
                <button class="btn btn-sm" style="width: 100%; text-align: left;">
                  <i class="fas fa-user" style="width: 20px; text-align: center;"></i> Profile Settings
                </button>
              </li>
              <li style="margin-bottom: 15px;">
                <button class="btn btn-sm" style="width: 100%; text-align: left;">
                  <i class="fas fa-bell" style="width: 20px; text-align: center;"></i> Notification Preferences
                </button>
              </li>
              <li style="margin-bottom: 15px;">
                <button class="btn btn-sm" style="width: 100%; text-align: left;">
                  <i class="fas fa-lock" style="width: 20px; text-align: center;"></i> Security Settings
                </button>
              </li>
              <li>
                <button class="btn btn-sm" style="width: 100%; text-align: left;">
                  <i class="fas fa-moon" style="width: 20px; text-align: center;"></i> Dark Mode
                </button>
              </li>
            </ul>
          </div>

          <div class="glass-card account-section">
            <h2><i class="fas fa-exchange-alt" style="margin-right: 10px;"></i>Connected Exchanges</h2>
            <ul style="list-style-type: none;">
               <li class="stat-row" style="border-bottom: 1px dashed rgba(255, 255, 255, 0.1);">
                <i class="fab fa-bitcoin" style="margin-right: 10px; color: var(--primary); flex-shrink: 0;"></i>
                <span style="flex-grow: 1;">Binance</span>
                <span class="text-success" style="flex-shrink: 0;">Connected</span>
              </li>
              <li class="stat-row" style="border-bottom: 1px dashed rgba(255, 255, 255, 0.1);">
                <i class="fab fa-ethereum" style="margin-right: 10px; color: #627eea; flex-shrink: 0;"></i>
                <span style="flex-grow: 1;">Coinbase</span>
                <span style="flex-shrink: 0;">Not Connected</span>
              </li>
              <li class="stat-row"> <i class="fas fa-anchor" style="margin-right: 10px; color: #5825fc; flex-shrink: 0;"></i>
                <span style="flex-grow: 1;">Kraken</span>
                <span style="flex-shrink: 0;">Not Connected</span>
              </li>
            </ul>
            <button class="btn btn-primary mt-20">
              <i class="fas fa-plus"></i> Add Exchange
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Splash screen Login button event
      document.getElementById('loginButton').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('splashScreen').style.display = 'none';
        document.getElementById('mainContent').style.display = 'block';
        setTimeout(() => {
          document.getElementById('mainContent').classList.add('active');
        }, 10);
      });

      /*** Tab Navigation ***/
      const tabs = document.querySelectorAll('.sidebar li');
      const sidebar = document.querySelector('.sidebar');
      const overlay = document.getElementById('overlay');

      tabs.forEach(tab => {
        tab.addEventListener('click', function () {
          tabs.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          const target = this.getAttribute('data-target');
          const contents = document.querySelectorAll('.tab-content');
          contents.forEach(content => content.classList.remove('active'));
          document.getElementById(target).classList.add('active');
          if (window.innerWidth <= 768) {
            sidebar.classList.remove('open');
            overlay.classList.remove('active');
            document.body.classList.remove('no-scroll');
          }
        });
      });

      /*** Hamburger Menu Toggle ***/
      const hamburgerMenu = document.getElementById('hamburgerMenu');
      const closeSidebar = document.getElementById('closeSidebar');

      hamburgerMenu.addEventListener('click', () => {
        sidebar.classList.add('open');
        overlay.classList.add('active');
        document.body.classList.add('no-scroll');
      });

      closeSidebar.addEventListener('click', () => {
        sidebar.classList.remove('open');
        overlay.classList.remove('active');
        document.body.classList.remove('no-scroll');
      });

      overlay.addEventListener('click', () => {
        sidebar.classList.remove('open');
        overlay.classList.remove('active');
        document.body.classList.remove('no-scroll');
      });

      /*** Daily Reward Button ***/
      const dailyRewardButton = document.getElementById('dailyRewardButton');
      if (dailyRewardButton) {
          dailyRewardButton.addEventListener('click', function () {
            this.innerHTML = '<i class="fas fa-check"></i> Reward Claimed';
            this.classList.remove('btn-primary');
            this.classList.add('btn-success');
            this.disabled = true;
            this.classList.remove('pulse');

            // Show notification
            showNotification('<i class="fas fa-gift"></i> Daily reward claimed! You received 10 tokens.', 'success');
          });
      }

      // --- Function to show notifications (reusable) ---
      function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.style.position = 'fixed';
        notification.style.bottom = '20px';
        notification.style.right = '20px';
        notification.style.backgroundColor = type === 'error' ? 'rgba(255, 68, 68, 0.9)' :
                                           type === 'success' ? 'rgba(0, 255, 170, 0.9)' :
                                           type === 'warning' ? 'rgba(255, 204, 0, 0.9)' :
                                           'rgba(0, 255, 255, 0.9)';
        notification.style.color = type === 'warning' ? '#121212' : '#ffffff'; // Adjusted text color for warning
        notification.style.padding = '15px 25px';
        notification.style.borderRadius = '8px';
        notification.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)';
        notification.style.zIndex = '2000';
        notification.style.animation = 'fadeIn 0.3s ease';
        notification.innerHTML = message;
        document.body.appendChild(notification);

        setTimeout(() => {
          // Smooth fade out
          notification.style.transition = 'opacity 0.3s ease';
          notification.style.opacity = '0';
          setTimeout(() => {
            notification.remove();
          }, 300); // Wait for fade out transition
        }, 3000);
      }


      /*** Wallet Functions ***/
      function connectWallet() {
        if (window.webln) {
          window.webln.enable()
            .then(() => window.webln.getInfo())
            .then(info => {
              const pubkey = info.node.pubkey;
              document.getElementById('walletStatus').innerText = 'Connected: Lightning Wallet';
              document.getElementById('walletAddress').innerText = pubkey;
              document.getElementById('walletBalance').innerText = '1,500 sats';
              document.getElementById('connectWalletHeader').innerHTML = '<i class="fas fa-check-circle"></i> Connected';
              document.getElementById('connectWalletTab').innerHTML = '<i class="fas fa-check-circle"></i> Connected';
              document.getElementById('connectWalletHeader').disabled = true;
              document.getElementById('connectWalletTab').disabled = true;
              document.getElementById('copyAddress').style.display = 'inline-block';

              // Update transaction list
              const transactionsList = document.getElementById('transactionsList');
              transactionsList.innerHTML = `
                <li class="transaction-item">
                  <div>
                    <span class="transaction-type transaction-in">IN</span>
                    <span>0.005 BTC</span>
                  </div>
                  <div>
                    <span>2 hours ago</span>
                  </div>
                </li>
                <li class="transaction-item">
                  <div>
                    <span class="transaction-type transaction-out">OUT</span>
                    <span>0.002 BTC</span>
                  </div>
                  <div>
                    <span>1 day ago</span>
                  </div>
                </li>
                <li class="transaction-item">
                  <div>
                    <span class="transaction-type transaction-in">IN</span>
                    <span>0.001 BTC</span>
                  </div>
                  <div>
                    <span>3 days ago</span>
                  </div>
                </li>
              `;

              showNotification('Wallet connected successfully!', 'success');
            })
            .catch(error => {
              console.error("WebLN Error:", error);
              showNotification('Error connecting wallet: ' + error.message, 'error');
            });
        } else {
          showNotification("No WebLN provider found. Please install a WebLN-compatible Lightning wallet.", 'warning');
        }
      }

      function sendPayment() {
        if (window.webln && window.webln.sendPayment) {
          const invoice = prompt("Enter Lightning Invoice to pay:");
          if (invoice) {
            window.webln.sendPayment(invoice)
              .then(result => {
                showNotification("Payment sent successfully!", 'success');
                 // TODO: Update balance and transaction list after payment
              })
              .catch(error => {
                console.error("Send Payment Error:", error);
                showNotification("Payment failed: " + error.message, 'error');
              });
          }
        } else {
          showNotification("sendPayment is not supported by your wallet. Please check if your wallet is up-to-date.", 'warning');
        }
      }

      function receivePayment() {
        if (window.webln && window.webln.makeInvoice) {
          const amount = prompt("Enter the amount in sats for the invoice:");
          if (amount && !isNaN(parseInt(amount, 10))) {
            window.webln.makeInvoice({ amount: parseInt(amount, 10) })
              .then(result => {
                const invoice = result.paymentRequest; // Correct field name might be paymentRequest
                const notification = document.createElement('div');
                notification.style.position = 'fixed';
                notification.style.top = '50%';
                notification.style.left = '50%';
                notification.style.transform = 'translate(-50%, -50%)';
                notification.style.backgroundColor = 'rgba(30, 30, 30, 0.95)';
                notification.style.color = 'white';
                notification.style.padding = '25px';
                notification.style.borderRadius = '12px';
                notification.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.3)';
                notification.style.zIndex = '2000';
                notification.style.width = '90%';
                notification.style.maxWidth = '500px';
                notification.style.border = '1px solid var(--primary)';
                notification.innerHTML = `
                  <h3 style="margin-bottom: 15px; color: var(--primary);">Invoice Created</h3>
                  <p style="word-break: break-all; margin-bottom: 20px; font-family: monospace;">${invoice}</p>
                  <div style="display: flex; gap: 10px; justify-content: center;">
                    <button id="copyInvoiceBtn" class="btn btn-sm btn-primary" style="flex: 1;">
                      <i class="fas fa-copy"></i> Copy Invoice
                    </button>
                    <button id="closeInvoiceBtn" class="btn btn-sm" style="flex: 1;">
                      <i class="fas fa-times"></i> Close
                    </button>
                  </div>
                `;
                document.body.appendChild(notification);

                document.getElementById('copyInvoiceBtn').addEventListener('click', () => {
                  navigator.clipboard.writeText(invoice).then(() => {
                    showNotification('Invoice copied to clipboard', 'success');
                  });
                });

                document.getElementById('closeInvoiceBtn').addEventListener('click', () => {
                  notification.remove();
                });
              })
              .catch(error => {
                console.error("Invoice Creation Error:", error);
                showNotification("Invoice creation failed: " + error.message, 'error');
              });
          } else if (amount !== null) { // Only show error if prompt wasn't cancelled
              showNotification("Please enter a valid number for the amount.", 'error');
          }
        } else {
          showNotification("makeInvoice is not supported by your wallet. Please check if your wallet is up-to-date.", 'warning');
        }
      }



      /*** Wallet Event Listeners ***/
       const connectWalletHeader = document.getElementById('connectWalletHeader');
       const connectWalletTab = document.getElementById('connectWalletTab');
       const sendPaymentButton = document.getElementById('sendPayment');
       const receivePaymentButton = document.getElementById('receivePayment');
       const copyAddressButton = document.getElementById('copyAddress');

       if (connectWalletHeader) connectWalletHeader.addEventListener('click', connectWallet);
       if (connectWalletTab) connectWalletTab.addEventListener('click', connectWallet);
       if (sendPaymentButton) sendPaymentButton.addEventListener('click', sendPayment);
       if (receivePaymentButton) receivePaymentButton.addEventListener('click', receivePayment);
       if (copyAddressButton) {
            copyAddressButton.addEventListener('click', () => {
                const walletAddress = document.getElementById('walletAddress').innerText;
                if (walletAddress && walletAddress !== 'N/A') {
                    navigator.clipboard.writeText(walletAddress).then(() => {
                        showNotification('Wallet address copied to clipboard', 'success');
                    }).catch(err => {
                         showNotification('Failed to copy address', 'error');
                    });
                }
            });
       }

       /*** Chart Common Options & Functions ***/
       const commonChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: false,
                ticks: {
                  color: '#e0e0e0',
                  callback: function(value) {
                    return '$' + value.toLocaleString();
                  }
                },
                grid: {
                  color: 'rgba(255, 255, 255, 0.1)'
                }
              },
              x: {
                ticks: {
                  color: '#e0e0e0'
                },
                grid: {
                  color: 'rgba(255, 255, 255, 0.1)'
                }
              }
            },
            plugins: {
              legend: {
                labels: {
                  color: '#e0e0e0',
                  font: {
                    family: 'Inconsolata'
                  }
                }
              },
              tooltip: {
                backgroundColor: 'rgba(30, 30, 30, 0.9)',
                titleColor: '#00ffff',
                bodyColor: '#e0e0e0',
                borderColor: 'rgba(0, 255, 255, 0.3)',
                borderWidth: 1,
                padding: 12,
                callbacks: {
                  label: function(context) {
                    let label = context.dataset.label || '';
                    if (label) {
                        label += ': ';
                    }
                    if (context.parsed.y !== null) {
                         // Check if yAxis requires '%'
                         if (context.chart.options.scales.y.ticks.callback && context.chart.options.scales.y.ticks.callback(1).includes('%')) {
                            label += context.parsed.y + '%';
                         } else {
                             label += '$' + context.parsed.y.toLocaleString();
                         }
                    }
                    return label;
                  }
                }
              }
            }
        };

       // Deep merge function for chart options
       function mergeOptions(target, source) {
            for (const key in source) {
                if (source.hasOwnProperty(key)) {
                    if (source[key] instanceof Object && key in target && target[key] instanceof Object) {
                        mergeOptions(target[key], source[key]);
                    } else {
                        target[key] = source[key];
                    }
                }
            }
            return target;
        }


      /*** Trading Bot Chart ***/
      const bitcoinChartCtx = document.getElementById('bitcoinChart')?.getContext('2d');
      if (bitcoinChartCtx) {
          const priceData = [42000, 42120, 42350, 42800, 42500, 42300, 42350];
          const bitcoinChart = new Chart(bitcoinChartCtx, {
            type: 'line',
            data: {
              labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
              datasets: [{
                label: 'BTC Price (USD)',
                data: priceData,
                backgroundColor: 'rgba(0, 255, 255, 0.1)',
                borderColor: 'rgba(0, 255, 255, 1)',
                borderWidth: 2,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: 'rgba(0, 255, 255, 1)',
                pointRadius: 4,
                pointHoverRadius: 6
              }]
            },
            options: commonChartOptions // Use common options
          });

          const buySuggestion = Math.min(...priceData);
          const sellSuggestion = Math.max(...priceData);
          const priceSuggestionsEl = document.getElementById('priceSuggestions');
          if (priceSuggestionsEl) {
            priceSuggestionsEl.innerHTML =
            `<div class="wallet-info" style="margin-top: 20px; grid-template-columns: 1fr 1fr;"> <div class="wallet-info-item">
                <strong><i class="fas fa-arrow-down text-success"></i> Buy Suggestion</strong>
                <span>Consider buying below $${buySuggestion.toLocaleString()}</span>
              </div>
              <div class="wallet-info-item">
                <strong><i class="fas fa-arrow-up text-error"></i> Sell Suggestion</strong>
                <span>Consider selling above $${sellSuggestion.toLocaleString()}</span>
              </div>
            </div>`;
          }
      }


      /*** DCA Chart ***/
      const dcaChartCtx = document.getElementById('dcaChart')?.getContext('2d');
      if (dcaChartCtx) {
        const marketPriceData = [42000, 42120, 42350, 42800, 42500, 42300, 42350];
        // Example DCA purchase points (match labels length if possible)
        const dcaPurchases = [
            { x: 'Tue', y: 41800 },
            { x: 'Thu', y: 42100 },
            { x: 'Sat', y: 41500 },
            { x: 'Sun', y: 41950 }
        ];
        const dcaChart = new Chart(dcaChartCtx, {
          type: 'line',
          data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [
              {
                label: 'Market Price (USD)',
                data: marketPriceData,
                borderColor: 'rgba(0, 255, 170, 1)',
                backgroundColor: 'rgba(0, 255, 170, 0.1)',
                borderWidth: 2,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: 'rgba(0, 255, 170, 1)',
                pointRadius: 4,
                pointHoverRadius: 6
              },
              {
                label: 'DCA Purchases',
                data: dcaPurchases,
                type: 'scatter',
                backgroundColor: 'rgba(0, 255, 255, 1)',
                pointRadius: 6,
                pointHoverRadius: 8,
                showLine: false
              }
            ]
          },
          options: commonChartOptions // Use common options
        });
    }

    // Function to create bar charts with common percentage options
    function createPercentageBarChart(canvasId, data, label) {
         const ctx = document.getElementById(canvasId)?.getContext('2d');
         if (!ctx) return null;

         const chartOptions = mergeOptions(JSON.parse(JSON.stringify(commonChartOptions)), { // Deep copy common options
             scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        callback: function(value) { return value + '%'; } // Override y-axis callback for percentage
                    }
                }
             },
             plugins: {
                 legend: { display: false }, // Hide legend for simple bar charts
                 tooltip: { // Override tooltip for percentage
                      callbacks: {
                          label: function(context) {
                              let label = context.dataset.label || '';
                              if (label) { label += ': '; }
                              if (context.parsed.y !== null) {
                                  label += context.parsed.y + '%';
                              }
                              return label;
                          }
                      }
                  }
             }
         });


         return new Chart(ctx, {
            type: 'bar',
            data: {
              labels: ['Daily', 'Weekly', 'Monthly', 'Yearly', 'All Time'],
              datasets: [{
                label: label,
                data: data,
                 backgroundColor: [ // Example color scheme - adjust as needed
                    'rgba(0, 255, 255, 0.7)', // Cyan for shorter terms
                    'rgba(0, 255, 255, 0.7)',
                    'rgba(0, 255, 255, 0.7)',
                    'rgba(0, 255, 170, 0.7)', // Success green for longer terms
                    'rgba(0, 255, 170, 0.7)'
                ],
                borderColor: [
                    'rgba(0, 255, 255, 1)',
                    'rgba(0, 255, 255, 1)',
                    'rgba(0, 255, 255, 1)',
                    'rgba(0, 255, 170, 1)',
                    'rgba(0, 255, 170, 1)'
                ],
                borderWidth: 1
              }]
            },
            options: chartOptions
         });
    }


    /*** Wallet Gains Chart ***/
    createPercentageBarChart('walletGainsChart', [2, 5, 10, 45, 125], 'Wallet Gains (%)');

    /*** Trading Bot Gains Chart ***/
    createPercentageBarChart('tradingBotGainsChart', [1, 3, 8, 40, 90], 'Trading Bot Gains (%)');


    /*** Social Tabs Toggle ***/
    const socialTabs = document.querySelectorAll('.social-tab');
    socialTabs.forEach(tab => {
      tab.addEventListener('click', function () {
        socialTabs.forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        document.querySelectorAll('.social-feed').forEach(feed => feed.style.display = 'none');
        const selectedTab = this.getAttribute('data-tab');
        const activeFeed = document.getElementById(selectedTab);
        if (activeFeed) {
            activeFeed.style.display = 'block';
        }
      });
    });

    /*** QR Code Generation ***/
    const qrElement = document.getElementById("helpCreatorQR");
    if (qrElement) {
        try {
            new QRCode(qrElement, {
                text: "bitcoin:bc1qsimulateddonationaddress1234567890?amount=0.0001&label=HodlVitality%20Donation",
                width: 220, // Slightly smaller to fit padding well
                height: 220,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        } catch (e) {
            console.error("Failed to generate QR Code:", e);
            qrElement.innerHTML = "QR Code generation failed.";
        }
    }

    // --- NEW: Create Post Functionality ---
    const createPostTextarea = document.getElementById('createPostTextarea');
    const createPostButton = document.getElementById('createPostButton');
    const forYouFeed = document.getElementById('following');
    const yourPageFeed = document.getElementById('yourpage');
    // Find the "Create Post" card to insert new posts after it on "Your Page"
    const createPostCard = document.querySelector('#yourpage .glass-card:has(#createPostTextarea)');


    if (createPostButton && createPostTextarea && forYouFeed && yourPageFeed && createPostCard) {
        createPostButton.addEventListener('click', () => {
            const postText = createPostTextarea.value.trim();

            if (postText) {
                // Create the HTML for the new post
                // Use the same avatar/username as the default "Your Page" post
                // Escape HTML in postText to prevent XSS (basic example)
                const escapedText = postText.replace(/</g, "&lt;").replace(/>/g, "&gt;");

                const newPostHTML = `
                <div class="glass-card post">
                  <div class="post-header">
                    <img src="https://i.pravatar.cc/150?img=1" alt="avatar" />
                    <span>YourUsername</span>
                    <div class="post-actions">
                      <button class="btn btn-sm" data-tooltip="Edit your post">
                        <i class="fas fa-edit"></i> Edit
                      </button>
                      <button class="btn btn-sm btn-danger" data-tooltip="Delete your post">
                          <i class="fas fa-trash"></i> Delete
                      </button>
                    </div>
                  </div>
                  <div class="post-body">
                    <p>${escapedText}</p>
                    <div class="post-meta">
                      <span class="post-meta-item"><i class="far fa-clock"></i> Just now</span>
                      <span class="post-meta-item"><i class="far fa-heart"></i> 0</span>
                      <span class="post-meta-item"><i class="far fa-comment"></i> 0</span>
                    </div>
                  </div>
                </div>
                `;

                // Add the new post to the top of the "For You" feed
                forYouFeed.insertAdjacentHTML('afterbegin', newPostHTML);

                // Add the new post *after* the Create Post card on "Your Page"
                createPostCard.insertAdjacentHTML('afterend', newPostHTML);

                // Clear the textarea
                createPostTextarea.value = '';

                // Optional: Show success notification
                showNotification('Post created successfully!', 'success');

            } else {
                // Optional: Show error if post is empty
                showNotification('Cannot create an empty post.', 'warning');
            }
        });
    } else {
        console.error("Could not find all necessary elements for post creation.");
    }
    // --- END: Create Post Functionality ---


  });
  </script>
</body>
</html>